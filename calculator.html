<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
            <title></title>

        <!--stylesheets-->
        <link rel="stylesheet" href="lib/bootstrap.min.css">
        <link rel="stylesheet" href="lib/leaflet/leaflet.css">
        <link rel="stylesheet" href="css/style.css">
        
    </head>

    <body>
        <!--navigation bar-->
        <top-navbar></top-navbar>

        <!--calculator interface-->
        <!--<div id="calculator">
            <p><b>1.) Structure Life</b></p>
                <label>Local Regulation (ft)</label>
                <input type="number" class="hightlight" id="local_reg" value="25">
            <p><b>2.) Stable Slope Angle</b></p>
                <label>Bluff Height (ft)</label>
                <input type="number" id="bluff_height" value="100">
                <label>Current Bluff Angle (deg.)</label>
                <input type="number" id="curr_bluff_angle" value="30">
                <label>Stable Bluff Angle (deg.)</label>
                <input type="number" id="stable_bluff_angle" value="22">
                <label>Stable Angle Setback (ft)</label>
                <input disabled type="number" class="hightlight" id="setback_angle">
            <p><b>3.) Recession</b></p>
                <label>Recession Rate (ft/yr)</label>
                <input type="number" id="rec_rate" value="2">
                <label>Recession Setback: 50yrs (ft)</label>
                <input disabled type="number" class="hightlight" id="rec_setback">
                <label id="setback_total">Total Setback Distance (ft)</label>
                <input disabled type="number" id="setback_ft">
            <div id="buttons">
                <button id="calcSetback">Calculate</button><button>Reset</button>
            </div>
        </div>-->
        <!--intro for the triangle interface-->
        <div class="triangle-intro-container">   
            <div class="triangle-intro">
                <p>Drag this line to adjust the size of the triangle.</p>
            </div>
            <div class="triangle-intro-after"></div>
        </div> 

        <div class="container site-container">
            <!--local regulation and recession rate calculation-->
            <div class="row">
                <div class="sidebar col-3">
                    <div class="menu">
                        <h2 class="section-header" id="title1" title="step1" style="font-weight:bold;">1.) Introduction</h2>
                        <h2 class="section-header" id="title2" title="step2">2.) Stable Angle</h2>
                        <h2 class="section-header" id="title3" title="step3">3.) Structure Life</h2>
                        <h2 class="section-header" id="title4" title="step4">4.) Local Regulations</h2>
                    </div>
                </div>

                <div class="col-6 offset-3">
                    
                    <div class="calc-section row">
                        <div id="step1" class="section-content">
                            <h2><b>Construction Setback</b></h2>
                            <hr>
                            <p>Building on the lakeshore must account for the effects of erosion on the bluffs. Bluffs are dynamic, and their retreat may be slowed, but never stopped.
                                A well-constructed building might have a useful life of 70 to 100 years. A home built too close to the bluff may have to be moved to save the structure, or be demolished. 
                            </p>
                            <p><b>Setback</b> refers to the total distance from a bluff a new building is required to be.</p>
                            <p>Different municipalities have different setback requirements. This calcuator demonstrates 3 different scenarios along the Ozaukee County Coast, comparing three different methods for calculating setback:
                                <ul>
                                    <li>Stable Slope Angle Distance</li>
                                    <li>Structure Life</li>
                                    <li>Local Regulation</li>
                                </ul>
                            </p>
                            <p><b class="disclaimer">Disclaimer: Results from this calculator should not form the basis for any decision making. Rather, this tool is intended to show general comparison between different calculation methods.</b></p>
                            <!--<p><b>How to use this tool:</b></p>
                            <p>This calculator walks through a steb-by-step setback calculation process based on the lakeshore of the Town of Grafton, Wisconsin. The map on the right depicts the top of the bluff in Grafton.</p>
                            <p><input type="number" value="10"> Experiment with different numbers for each factor.</p>
                            <p><button>Calculate</button> Use these buttons to compute the setback of the factor.</p>
                            <p><img class="tutorial-img" src="img/calculator-tutorial.png"> After each calculation, see how the map has changed.</p>-->
                            <button class="next" title="1" style="margin-top:25px;">Let's get started!</button>
                        </div>
                    </div>
                    
                    <div class="calc-section">
                        <div id="step2" class="section-content">
                            <h2><b>Stable Slope Angle</b></h2>
                            <hr>
                            <p>In the Town of Grafton, setback calculation is based on the <b>height</b>, <b>angle</b>, and <b>material</b> of the bluff, compared to its <b>stable angle.</b></p>
                            <p>Stable bluff angles are the angle of slope in which a major slough or collapse is unable to occur. In Grafton, bluffs generally have a stable angle of 22 degrees, but different bluff materials in different places result in different stable angles.</p>
                            <p>Bluff <b>height</b> can be categorized as <b>high</b> (over 70 feet) or <b>low</b> (under 70 feet). Bluff heights are difficult to calculate, but in Grafton, bluffs are generally taller than 70 feet.</p>
                            <p>Setback is calculated from the <b>bluff toe</b>.</p>
                            <p>Use the triangle tool below to experiment with different bluff parameters, when you're done, select <b>calculate</b> to see the setback line draw on the map.</p>
                            <p><b class="disclaimer">Disclaimer: bluff heights vary greatly over distance, while this calculator assumes a single, constant height.</b></p>
                            <div id="stable-dropdown">
                                <label>Stable Bluff Angle (deg.):</label>
                                <div class="dropdown">
                                    <button class="dropdown-toggle" type="button" id="material-button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Lake Michigan — Cohesive Soil
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="material-button">
                                        <li><a class="dropdown-item material" title="22" href="#michigan">Lake Michigan — Cohesive Soil</a></li>
                                        <li><a class="dropdown-item material" title="14" href="#superior">Lake Superior — Cohesive Soil</a></li>
                                        <li><a class="dropdown-item material" title="30" href="#sandy">Sandy Soil</a></li>
                                        <li><a class="dropdown-item material" href="#custom">Custom</a></li>
                                    </ul>
                                </div>
                                <input type="number" id="stable-bluff-angle" value="22">
                            </div>
                            <!--triangle interface-->
                            <div id="triangle"></div>
                            <label>Stable Angle Setback (ft)</label>
                                    <input disabled type="number" id="stable-angle-setback">
                            <button id="calc-sas">Calculate</button>
                            <button class="next" title="2">Next</button>
                        </div>
                    </div>

                    <div class="calc-section">
                        <div id="step3" class="section-content">
                            <h2><b>Structure Life</b></h2>
                            <hr>
                            <p>On the Wisconsin shore of Lake Michigan, bluffs erode, on average, 2-3 feet per year. This <b>recession rate</b> is far from constant.
                                There could be many years of relative stability followed by a large destabalizing event.
                            </p>
                            <p>
                                When constructing a building near a bluff, it is important to consider how long you want the building to last. 
                                In some cases, the natural recession rate may be greater than the municipal setback requirements. 
                            </p>
                            <p>
                                Select values below. When you're ready, select <b>calculate</b> to draw a new line on the map. How does this line compare with the stable angle setback line?
                            </p>
                            <label>Recession Rate (ft/yr)</label>
                            <input type="number" max="3" min="2" id="rec-rate" value="2">
                            <br/>
                            <label>Life of Structure (years)</label>
                            <input type="number" id="rec-years" value="50">
                            <br/><br/>
                            <label>Recession Setback (ft): </label>
                            <input disabled type="number" id="rec-setback">
                            <button id="calc-rec">Calculate</button>
                            <button class="next" title="3">Next</button>
                        </div>
                    </div>

                    <div class="calc-section">
                        <div id="step4" class="section-content">
                            <h2><b>Local Regulations</b></h2>
                            <hr>
                            <p>While construction setback in the Town of Grafton is calculated based on the stable slope angle, in nearby Mequon, setback is a flat value of 75 feet, calculated from the bluff crest.
                                Other municipalities have may similar "flat values". 
                            </p>
                            <p>Hit <b>calculate</b> when you're ready. How the resulting line, based on Mequon's municipal law, compare to the stable angle or natural recession rates?</p>
                            <label>Local Regulation (ft)</label>
                            <input disabled type="number" class="hightlight" id="local-reg" value="75">
                            <button id="calc-reg">Calculate</button>
                        </div>
                    </div>

                </div>

                <div class="col-3 map-container">
                    <div id="calc-map"></div>
                </div>

            </div>

        </div>

        <!--navigation bar-->
        <bottom-footer></bottom-footer>

        <!--scripts-->
        <script type="text/javascript" src="lib/popper.min.js"></script>
        <script type="text/javascript" src="lib/bootstrap.min.js"></script>
        <script type="text/javascript" src="lib/leaflet/leaflet.js"></script>
        <script type="text/javascript" src="lib/leaflet.pattern.js"></script>
        <script type="text/javascript" src="lib/d3.min.js"></script>
        <script type="text/javascript" src="js/components/header.js"></script>
        <script type="text/javascript" src="js/components/footer.js"></script>
        <script type="text/javascript" src="js/calculator.js"></script>

    </body>
</html>